<app-menu-items></app-menu-items>
<div>
    <form  class="form-horizontal" [formGroup]="productForm">
        <h1 style="text-align: center;">Products List</h1>
        <br/>
        <div>

            <div class="form-group">
                <label class="control-label col-sm-2">Order Date:</label>
                <div class="col-sm-10">
                    <input type="date" class="form-control" placeholder="Order Date" formControlName="OrderDate">
                </div>
                <div *ngIf="displayErrorOnForm(productForm, 'OrderDate') && productForm.controls.OrderDate.hasError('required')" class="alert alert-danger">
                    Order Date is required
                </div>
            </div>
            <br/>
            <div class="form-group">
                <label class="control-label col-sm-2">Product Name:</label>
                <div class="col-sm-10">
                    <input class="form-control" placeholder="Product Name" formControlName="ProductName">
                </div>
                <div *ngIf="displayErrorOnForm(productForm, 'ProductName') && productForm.controls.ProductName.hasError('required')" class="alert alert-danger">
                    Product Name is required
                </div>
            </div>
            <br/>
            <div class="form-group">
                <label class="control-label col-sm-2">Description:</label>
                <div class="col-sm-10">
                    <input class="form-control" placeholder="Description" formControlName="Description">
                </div>
                <div *ngIf="displayErrorOnForm(productForm, 'Description') && productForm.controls.Description.hasError('required')" class="alert alert-danger">
                    Description is required
                </div>
            </div>
            <br/>
            <div class="form-group">
                <label class="control-label col-sm-2">Quantity:</label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" placeholder="Quantity" formControlName="Quantity">
                </div>
                <div *ngIf="displayErrorOnForm(productForm, 'Quantity')" class="alert alert-danger">
                    <div *ngIf="productForm.controls.Quantity.hasError('required')">
                        Quantity is required
                    </div>
                    <div *ngIf="productForm.controls.Quantity.hasError('min')">
                        Quantity must be greater than or equal 1
                    </div>
                </div>
            </div>
            <br/>
            <div class="form-group">
                <label class="control-label col-sm-2">Price:</label>
                <div class="col-sm-10">
                    <input class="form-control" placeholder="Price" formControlName="Price">
                </div>
                <div *ngIf="displayErrorOnForm(productForm, 'Price')" class="alert alert-danger">
                    <div *ngIf="productForm.controls.Price.hasError('required')">
                        Price is required
                    </div>
                    <div *ngIf="productForm.controls.Price.hasError('min')">
                        Price must be greater than or equal 1
                    </div>
                </div>
            </div>
            <br/>
            <div class="form-group">
                <label class="control-label col-sm-2">Total:</label>
                <div class="col-sm-10">
                    <input class="form-control" formControlName="Total" readonly>
                </div>
            </div>
            <br/>
            <div class="form-group">
                <div class="container">
                  <div class="row">
                    <div class="col-sm">
                      <button type="submit" class="btn btn-primary" (click)="Add()">Add</button>
                    </div>
                    <div class="col-sm">
                      <button type="submit" class="btn btn-primary" (click)="Update()">Update</button>
                    </div>
                    <div class="col-sm">
                      <button type="submit" class="btn btn-primary" (click)="Clear()">Clear</button>
                    </div>
                  </div>
                </div>     
            </div>
            <br/>
                <div class="table-responsive text-center">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Order Date</th>
                            <th scope="col">Name</th>
                            <th scope="col">Description</th>
                            <th scope="col">Quantity</th>
                            <th scope="col">Price</th>
                            <th scope="col">Total</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let product of products | async; index as idx">
                            <th scope="row">{{idx + 1}}</th>
                            <td>{{product.OrderDate | date: 'MM/dd/yyyy' }}</td>
                            <td>{{product.ProductName}}</td>
                            <td>{{product.Description}}</td>
                            <td>{{product.Quantity}}</td>
                            <td>{{product.Price | number: '1.2-2' }}</td>
                            <td>{{product.Total | number: '1.2-2'}}</td>
                            <td>
                                <button type="button" class="btn btn-outline-primary" (click)="onEdit(product.ProductId)">Edit</button>&nbsp;
                                <button type="button" class="btn btn-outline-primary" (click)="onDelete(product.ProductId)">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </form>

</div>

